{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "trading-utils",
  "type": "registry:lib",
  "title": "Trading Utilities",
  "description": "Core utilities for trading: market cap parsing, price formatting, chart colors",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "lib/trading-utils.ts",
      "type": "registry:lib",
      "content": "/**\n * Sedona Trading Utilities\n * Core utilities for trading components\n *\n * @package @sedona/trading-utils\n */\n\n// =============================================================================\n// CHART COLORS\n// =============================================================================\n\n/** Chart color configuration for candlestick/trading charts */\nexport const CHART_COLORS = {\n  up: \"#26a69a\",\n  down: \"#ef5350\",\n  grid: \"rgba(255, 255, 255, 0.05)\",\n  text: \"rgba(255, 255, 255, 0.5)\",\n  crosshair: \"rgba(255, 255, 255, 0.2)\",\n  border: \"rgba(255, 255, 255, 0.1)\",\n} as const\n\n/** Line colors for multi-line charts */\nexport const LINE_COLORS = [\n  \"#f97316\", // Orange (accent)\n  \"#22c55e\", // Green\n  \"#3b82f6\", // Blue\n  \"#a855f7\", // Purple\n  \"#ec4899\", // Pink\n] as const\n\n// =============================================================================\n// MARKET CAP UTILITIES\n// =============================================================================\n\n/**\n * Parse market cap string to number\n * @example parseMarketCap(\"$1.2M\") // 1200000\n * @example parseMarketCap(\"$45.3K\") // 45300\n * @example parseMarketCap(\"$500\") // 500\n */\nexport function parseMarketCap(mcap: string): number {\n  const cleaned = mcap.replace(/[$,]/g, \"\")\n  const num = parseFloat(cleaned)\n  if (isNaN(num)) return 0\n  if (mcap.includes(\"M\")) return num * 1_000_000\n  if (mcap.includes(\"K\")) return num * 1_000\n  return num\n}\n\n/**\n * Format number as market cap string\n * @example formatMarketCap(1200000) // \"$1.2M\"\n * @example formatMarketCap(45300) // \"$45.3K\"\n * @example formatMarketCap(500) // \"$500\"\n */\nexport function formatMarketCap(value: number): string {\n  if (value >= 1_000_000) {\n    return `$${(value / 1_000_000).toFixed(1)}M`\n  }\n  if (value >= 1_000) {\n    return `$${(value / 1_000).toFixed(1)}K`\n  }\n  return `$${value.toFixed(0)}`\n}\n\n// =============================================================================\n// PRICE UTILITIES\n// =============================================================================\n\n/**\n * Format price with appropriate precision\n * @example formatPrice(0.00234) // \"$0.00234\"\n * @example formatPrice(1.50) // \"$1.50\"\n * @example formatPrice(1234.56) // \"$1,234.56\"\n */\nexport function formatPrice(price: number): string {\n  if (price === 0) return \"$0\"\n  if (price < 0.0001) return `$${price.toExponential(2)}`\n  if (price < 0.01) return `$${price.toFixed(6)}`\n  if (price < 1) return `$${price.toFixed(4)}`\n  if (price >= 1000) {\n    return `$${price.toLocaleString(\"en-US\", { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\n  }\n  return `$${price.toFixed(2)}`\n}\n\n/**\n * Format percentage change with sign\n * @example formatPercentChange(12.5) // \"+12.5%\"\n * @example formatPercentChange(-3.2) // \"-3.2%\"\n */\nexport function formatPercentChange(change: number): string {\n  const sign = change >= 0 ? \"+\" : \"\"\n  return `${sign}${change.toFixed(1)}%`\n}\n\n/**\n * Get color class for percentage change\n */\nexport function getChangeColor(change: number): string {\n  if (change > 0) return \"text-green-500\"\n  if (change < 0) return \"text-red-500\"\n  return \"text-muted-foreground\"\n}\n\n// =============================================================================\n// VOLUME UTILITIES\n// =============================================================================\n\n/**\n * Format volume with abbreviations\n * @example formatVolume(1500000) // \"1.5M\"\n * @example formatVolume(45000) // \"45K\"\n */\nexport function formatVolume(volume: number): string {\n  if (volume >= 1_000_000_000) {\n    return `${(volume / 1_000_000_000).toFixed(1)}B`\n  }\n  if (volume >= 1_000_000) {\n    return `${(volume / 1_000_000).toFixed(1)}M`\n  }\n  if (volume >= 1_000) {\n    return `${(volume / 1_000).toFixed(1)}K`\n  }\n  return volume.toFixed(0)\n}\n\n// =============================================================================\n// ADDRESS UTILITIES\n// =============================================================================\n\n/**\n * Truncate wallet/contract address for display\n * @example truncateAddress(\"0x1234567890abcdef1234567890abcdef12345678\") // \"0x1234...5678\"\n */\nexport function truncateAddress(address: string, chars = 4): string {\n  if (!address) return \"\"\n  if (address.length <= chars * 2 + 3) return address\n  return `${address.slice(0, chars + 2)}...${address.slice(-chars)}`\n}\n\n// =============================================================================\n// TIME UTILITIES\n// =============================================================================\n\n/**\n * Format timestamp as relative time\n * @example formatRelativeTime(Date.now() - 60000) // \"1m ago\"\n */\nexport function formatRelativeTime(timestamp: number): string {\n  const seconds = Math.floor((Date.now() - timestamp) / 1000)\n\n  if (seconds < 60) return `${seconds}s ago`\n  if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`\n  if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`\n  return `${Math.floor(seconds / 86400)}d ago`\n}\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\nexport type ChartTimeframe = \"1m\" | \"5m\" | \"15m\" | \"1h\" | \"4h\" | \"1d\" | \"1w\"\n\nexport interface PricePoint {\n  time: number\n  price: number\n}\n\nexport interface CandlestickPoint {\n  time: number\n  open: number\n  high: number\n  low: number\n  close: number\n  volume?: number\n}\n"
    }
  ]
}