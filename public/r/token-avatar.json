{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "token-avatar",
  "type": "registry:ui",
  "title": "Token Avatar",
  "description": "Avatar component optimized for token/crypto icons with fallback handling",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/token-avatar.tsx",
      "type": "registry:ui",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport Image from \"next/image\"\nimport { cn } from \"@/lib/utils\"\n\nexport type TokenAvatarSize = \"sm\" | \"md\" | \"lg\"\n\nexport interface TokenAvatarProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** The token ticker symbol */\n  ticker: string\n  /** Size variant of the avatar */\n  size?: TokenAvatarSize\n  /** Optional image URL for the token */\n  imageUrl?: string\n}\n\nconst sizeVariants: Record<TokenAvatarSize, { container: string; text: string }> = {\n  sm: {\n    container: \"w-6 h-6\",\n    text: \"text-xs\",\n  },\n  md: {\n    container: \"w-8 h-8\",\n    text: \"text-sm\",\n  },\n  lg: {\n    container: \"w-11 h-11\",\n    text: \"text-base\",\n  },\n}\n\nconst TokenAvatar = React.forwardRef<HTMLDivElement, TokenAvatarProps>(\n  ({ className, ticker, size = \"md\", imageUrl, ...props }, ref) => {\n    const [imageError, setImageError] = React.useState(false)\n    const variant = sizeVariants[size]\n    const showImage = imageUrl && !imageError\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"relative rounded-full bg-muted border border-border flex items-center justify-center flex-shrink-0 overflow-hidden\",\n          variant.container,\n          className\n        )}\n        {...props}\n      >\n        {showImage ? (\n          <Image\n            src={imageUrl}\n            alt={`${ticker} token`}\n            fill\n            className=\"object-cover\"\n            onError={() => setImageError(true)}\n            unoptimized\n          />\n        ) : (\n          <span\n            className={cn(\n              \"font-bold text-muted-foreground\",\n              variant.text\n            )}\n          >\n            {ticker.charAt(0).toUpperCase()}\n          </span>\n        )}\n      </div>\n    )\n  }\n)\n\nTokenAvatar.displayName = \"TokenAvatar\"\n\nexport { TokenAvatar }\n"
    }
  ]
}