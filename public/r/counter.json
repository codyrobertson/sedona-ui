{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "counter",
  "type": "registry:ui",
  "title": "Counter",
  "description": "Animated number counter with spring physics for smooth transitions",
  "dependencies": [
    "motion"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/counter.tsx",
      "type": "registry:ui",
      "content": "\"use client\"\n\nimport { MotionValue, motion, useSpring, useTransform } from \"motion/react\"\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ntype PlaceValue = number | \".\"\n\ninterface NumberProps {\n  mv: MotionValue<number>\n  number: number\n  height: number\n}\n\nfunction AnimatedNumber({ mv, number, height }: NumberProps) {\n  const y = useTransform(mv, (latest) => {\n    const placeValue = latest % 10\n    const offset = (10 + number - placeValue) % 10\n    let memo = offset * height\n    if (offset > 5) {\n      memo -= 10 * height\n    }\n    return memo\n  })\n\n  return (\n    <motion.span\n      style={{\n        position: \"absolute\",\n        inset: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        y,\n      }}\n    >\n      {number}\n    </motion.span>\n  )\n}\n\ninterface DigitProps {\n  place: PlaceValue\n  value: number\n  height: number\n  digitClassName?: string\n}\n\n// Static character component (no hooks needed)\nfunction StaticChar({ char, height, digitClassName }: { char: string; height: number; digitClassName?: string }) {\n  return (\n    <span\n      className={cn(\"relative inline-flex items-center justify-center\", digitClassName)}\n      style={{ height, width: \"fit-content\" }}\n    >\n      {char}\n    </span>\n  )\n}\n\n// Animated digit component (uses hooks)\nfunction AnimatedDigit({ place, value, height, digitClassName }: { place: number; value: number; height: number; digitClassName?: string }) {\n  const valueRoundedToPlace = Math.floor(value / place)\n  const animatedValue = useSpring(valueRoundedToPlace, {\n    stiffness: 300,\n    damping: 40,\n    mass: 0.5,\n  })\n\n  React.useEffect(() => {\n    animatedValue.set(valueRoundedToPlace)\n  }, [animatedValue, valueRoundedToPlace])\n\n  return (\n    <span\n      className={cn(\"relative inline-flex overflow-hidden\", digitClassName)}\n      style={{\n        height,\n        position: \"relative\",\n        width: \"1ch\",\n        fontVariantNumeric: \"tabular-nums\",\n      }}\n    >\n      {Array.from({ length: 10 }, (_, i) => (\n        <AnimatedNumber key={i} mv={animatedValue} number={i} height={height} />\n      ))}\n    </span>\n  )\n}\n\nfunction Digit({ place, value, height, digitClassName }: DigitProps) {\n  // Decimal or special character - render static component\n  if (place === \".\") {\n    return <StaticChar char=\".\" height={height} digitClassName={digitClassName} />\n  }\n\n  // Number - render animated component\n  return <AnimatedDigit place={place} value={value} height={height} digitClassName={digitClassName} />\n}\n\nexport interface CounterProps extends Omit<React.HTMLAttributes<HTMLSpanElement>, 'prefix'> {\n  value: number\n  fontSize?: number\n  padding?: number\n  places?: PlaceValue[]\n  gap?: number\n  textColor?: string\n  fontWeight?: React.CSSProperties[\"fontWeight\"]\n  digitClassName?: string\n  prefix?: string\n  suffix?: string\n  showGradient?: boolean\n  gradientColor?: string\n}\n\nconst Counter = React.forwardRef<HTMLSpanElement, CounterProps>(\n  (\n    {\n      value,\n      fontSize = 16,\n      padding = 0,\n      places,\n      gap = 0,\n      textColor = \"inherit\",\n      fontWeight = \"inherit\",\n      className,\n      digitClassName,\n      prefix,\n      suffix,\n      showGradient = false,\n      gradientColor = \"black\",\n      ...props\n    },\n    ref\n  ) => {\n    // Auto-detect places if not provided\n    const computedPlaces = React.useMemo(() => {\n      if (places) return places\n      const valueStr = value.toString()\n      return Array.from(valueStr).map((ch, i, a) => {\n        if (ch === \".\") return \".\"\n        const dotIndex = a.indexOf(\".\")\n        const isInteger = dotIndex === -1\n        const exponent = isInteger\n          ? a.length - i - 1\n          : i < dotIndex\n            ? dotIndex - i - 1\n            : -(i - dotIndex)\n        return Math.pow(10, exponent)\n      }) as PlaceValue[]\n    }, [places, value])\n\n    const height = fontSize + padding\n\n    return (\n      <span\n        ref={ref}\n        className={cn(\"relative inline-flex items-center\", className)}\n        {...props}\n      >\n        {prefix && (\n          <span style={{ fontSize, color: textColor, fontWeight }}>{prefix}</span>\n        )}\n        <span\n          className=\"relative inline-block\"\n          style={{\n            fontSize,\n            display: \"flex\",\n            gap,\n            overflow: \"hidden\",\n            lineHeight: 1,\n            color: textColor,\n            fontWeight,\n          }}\n        >\n          <span className=\"flex\" style={{ gap }}>\n            {computedPlaces.map((place, index) => (\n              <Digit\n                key={`${place}-${index}`}\n                place={place}\n                value={value}\n                height={height}\n                digitClassName={digitClassName}\n              />\n            ))}\n          </span>\n          {showGradient && (\n            <span\n              className=\"pointer-events-none absolute inset-0 flex flex-col justify-between\"\n              aria-hidden\n            >\n              <span\n                style={{\n                  height: 8,\n                  background: `linear-gradient(to bottom, ${gradientColor}, transparent)`,\n                }}\n              />\n              <span\n                style={{\n                  height: 8,\n                  background: `linear-gradient(to top, ${gradientColor}, transparent)`,\n                }}\n              />\n            </span>\n          )}\n        </span>\n        {suffix && (\n          <span style={{ fontSize, color: textColor, fontWeight }}>{suffix}</span>\n        )}\n      </span>\n    )\n  }\n)\n\nCounter.displayName = \"Counter\"\n\n// Specialized variants for common use cases\nexport interface TimeCounterProps extends Omit<React.HTMLAttributes<HTMLSpanElement>, 'children'> {\n  seconds: number\n  fontSize?: number\n  textColor?: string\n}\n\nconst TimeCounter = React.forwardRef<HTMLSpanElement, TimeCounterProps>(\n  ({ seconds, fontSize = 16, className, textColor = \"inherit\", ...props }, ref) => {\n    const minutes = Math.floor(seconds / 60)\n    const secs = seconds % 60\n\n    return (\n      <span\n        ref={ref}\n        className={cn(\"inline-flex items-center font-mono\", className)}\n        {...props}\n      >\n        <Counter\n          value={minutes}\n          fontSize={fontSize}\n          textColor={textColor}\n          places={minutes >= 10 ? [10, 1] : [1]}\n          fontWeight={600}\n        />\n        <span style={{ fontSize, color: textColor, fontWeight: 600 }}>m </span>\n        <Counter\n          value={secs}\n          fontSize={fontSize}\n          textColor={textColor}\n          places={[10, 1]}\n          fontWeight={600}\n        />\n        <span style={{ fontSize, color: textColor, fontWeight: 600 }}>s</span>\n      </span>\n    )\n  }\n)\n\nTimeCounter.displayName = \"TimeCounter\"\n\nexport interface CurrencyCounterProps extends Omit<React.HTMLAttributes<HTMLSpanElement>, 'children'> {\n  value: number\n  fontSize?: number\n  textColor?: string\n  currency?: string\n}\n\nconst CurrencyCounter = React.forwardRef<HTMLSpanElement, CurrencyCounterProps>(\n  ({ value, fontSize = 16, className, textColor = \"inherit\", currency = \"$\", ...props }, ref) => {\n    return (\n      <span\n        ref={ref}\n        className={cn(\"inline-flex items-center font-semibold\", className)}\n        {...props}\n      >\n        <span style={{ fontSize, color: textColor }}>{currency}</span>\n        <Counter\n          value={value}\n          fontSize={fontSize}\n          textColor={textColor}\n          fontWeight={600}\n        />\n      </span>\n    )\n  }\n)\n\nCurrencyCounter.displayName = \"CurrencyCounter\"\n\nexport { Counter, TimeCounter, CurrencyCounter }\n"
    }
  ]
}