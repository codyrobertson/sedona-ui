{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "marquee",
  "type": "registry:ui",
  "title": "Marquee",
  "description": "GPU-accelerated infinite scrolling marquee with configurable speed and direction",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/marquee.tsx",
      "type": "registry:ui",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\n// ============================================================================\n// MARQUEE - GPU-accelerated infinite scroll component\n// ============================================================================\n\nexport interface MarqueeProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode\n  /** Speed in pixels per second */\n  speed?: number\n  /** Direction of scroll */\n  direction?: \"left\" | \"right\"\n  /** Pause animation on hover */\n  pauseOnHover?: boolean\n  /** Gap between repeated content */\n  gap?: number\n  /** Number of content clones for seamless loop */\n  repeat?: number\n  /** Start paused */\n  paused?: boolean\n  /** Fade edges with gradient */\n  fade?: boolean\n  /** Fade width in pixels */\n  fadeWidth?: number\n  /** Gradient color (should match background) */\n  fadeColor?: string\n}\n\nconst Marquee = React.forwardRef<HTMLDivElement, MarqueeProps>(\n  ({\n    children,\n    speed = 50,\n    direction = \"left\",\n    pauseOnHover = true,\n    gap = 24,\n    repeat = 3,\n    paused = false,\n    fade = true,\n    fadeWidth = 32,\n    fadeColor = \"hsl(var(--background))\",\n    className,\n    style,\n    ...props\n  }, ref) => {\n    const scrollerRef = React.useRef<HTMLDivElement>(null)\n    const [contentWidth, setContentWidth] = React.useState(0)\n    const [isHovered, setIsHovered] = React.useState(false)\n    const animationRef = React.useRef<number>(0)\n    const positionRef = React.useRef(0)\n    const lastTimeRef = React.useRef(0)\n\n    React.useEffect(() => {\n      const scroller = scrollerRef.current\n      if (!scroller) return\n\n      const measureWidth = () => {\n        const firstChild = scroller.children[0] as HTMLElement\n        if (firstChild) {\n          setContentWidth(firstChild.scrollWidth + gap)\n        }\n      }\n\n      requestAnimationFrame(measureWidth)\n\n      const resizeObserver = new ResizeObserver(() => {\n        requestAnimationFrame(measureWidth)\n      })\n      resizeObserver.observe(scroller)\n\n      return () => resizeObserver.disconnect()\n    }, [gap, children])\n\n    React.useEffect(() => {\n      if (!contentWidth || paused || (pauseOnHover && isHovered)) {\n        lastTimeRef.current = 0\n        return\n      }\n\n      const animate = (timestamp: number) => {\n        if (!lastTimeRef.current) {\n          lastTimeRef.current = timestamp\n        }\n\n        const deltaTime = timestamp - lastTimeRef.current\n        lastTimeRef.current = timestamp\n\n        const cappedDelta = Math.min(deltaTime, 100)\n        const movement = (speed * cappedDelta) / 1000\n\n        if (direction === \"left\") {\n          positionRef.current -= movement\n          while (positionRef.current <= -contentWidth) {\n            positionRef.current += contentWidth\n          }\n        } else {\n          positionRef.current += movement\n          while (positionRef.current >= 0) {\n            positionRef.current -= contentWidth\n          }\n        }\n\n        if (scrollerRef.current) {\n          scrollerRef.current.style.transform = `translate3d(${positionRef.current}px, 0, 0)`\n        }\n\n        animationRef.current = requestAnimationFrame(animate)\n      }\n\n      if (direction === \"right\" && positionRef.current === 0) {\n        positionRef.current = -contentWidth\n      }\n\n      animationRef.current = requestAnimationFrame(animate)\n\n      return () => {\n        if (animationRef.current) {\n          cancelAnimationFrame(animationRef.current)\n        }\n      }\n    }, [contentWidth, speed, direction, paused, pauseOnHover, isHovered])\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"relative overflow-hidden\", className)}\n        style={style}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        {...props}\n      >\n        {fade && (\n          <div\n            className=\"absolute left-0 top-0 bottom-0 z-10 pointer-events-none\"\n            style={{\n              width: fadeWidth,\n              background: `linear-gradient(to right, ${fadeColor}, transparent)`,\n            }}\n          />\n        )}\n\n        <div\n          ref={scrollerRef}\n          className=\"flex will-change-transform\"\n          style={{\n            gap,\n            transform: \"translate3d(0, 0, 0)\",\n          }}\n        >\n          {Array.from({ length: repeat }).map((_, i) => (\n            <div\n              key={i}\n              className=\"flex shrink-0\"\n              style={{ gap }}\n              aria-hidden={i > 0}\n            >\n              {children}\n            </div>\n          ))}\n        </div>\n\n        {fade && (\n          <div\n            className=\"absolute right-0 top-0 bottom-0 z-10 pointer-events-none\"\n            style={{\n              width: fadeWidth,\n              background: `linear-gradient(to left, ${fadeColor}, transparent)`,\n            }}\n          />\n        )}\n      </div>\n    )\n  }\n)\nMarquee.displayName = \"Marquee\"\n\n// ============================================================================\n// MARQUEE ITEM\n// ============================================================================\n\nexport interface MarqueeItemProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode\n}\n\nconst MarqueeItem = React.forwardRef<HTMLDivElement, MarqueeItemProps>(\n  ({ className, children, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\"flex-shrink-0\", className)}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n)\nMarqueeItem.displayName = \"MarqueeItem\"\n\n// ============================================================================\n// VERTICAL MARQUEE\n// ============================================================================\n\nexport interface VerticalMarqueeProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode\n  speed?: number\n  direction?: \"up\" | \"down\"\n  pauseOnHover?: boolean\n  gap?: number\n  repeat?: number\n  paused?: boolean\n  fade?: boolean\n  fadeHeight?: number\n  fadeColor?: string\n}\n\nconst VerticalMarquee = React.forwardRef<HTMLDivElement, VerticalMarqueeProps>(\n  ({\n    children,\n    speed = 30,\n    direction = \"up\",\n    pauseOnHover = true,\n    gap = 16,\n    repeat = 3,\n    paused = false,\n    fade = true,\n    fadeHeight = 24,\n    fadeColor = \"hsl(var(--background))\",\n    className,\n    style,\n    ...props\n  }, ref) => {\n    const scrollerRef = React.useRef<HTMLDivElement>(null)\n    const [contentHeight, setContentHeight] = React.useState(0)\n    const [isHovered, setIsHovered] = React.useState(false)\n    const animationRef = React.useRef<number>(0)\n    const positionRef = React.useRef(0)\n    const lastTimeRef = React.useRef(0)\n\n    React.useEffect(() => {\n      const scroller = scrollerRef.current\n      if (!scroller) return\n\n      const measureHeight = () => {\n        const firstChild = scroller.children[0] as HTMLElement\n        if (firstChild) {\n          setContentHeight(firstChild.offsetHeight + gap)\n        }\n      }\n\n      measureHeight()\n\n      const resizeObserver = new ResizeObserver(measureHeight)\n      resizeObserver.observe(scroller)\n\n      return () => resizeObserver.disconnect()\n    }, [gap, children])\n\n    React.useEffect(() => {\n      if (!contentHeight || paused || (pauseOnHover && isHovered)) {\n        lastTimeRef.current = 0\n        return\n      }\n\n      const animate = (timestamp: number) => {\n        if (!lastTimeRef.current) {\n          lastTimeRef.current = timestamp\n        }\n\n        const deltaTime = timestamp - lastTimeRef.current\n        lastTimeRef.current = timestamp\n\n        const movement = (speed * deltaTime) / 1000\n        const directionMultiplier = direction === \"up\" ? -1 : 1\n\n        positionRef.current += movement * directionMultiplier\n\n        if (direction === \"up\" && positionRef.current <= -contentHeight) {\n          positionRef.current += contentHeight\n        } else if (direction === \"down\" && positionRef.current >= contentHeight) {\n          positionRef.current -= contentHeight\n        }\n\n        if (scrollerRef.current) {\n          scrollerRef.current.style.transform = `translate3d(0, ${positionRef.current}px, 0)`\n        }\n\n        animationRef.current = requestAnimationFrame(animate)\n      }\n\n      animationRef.current = requestAnimationFrame(animate)\n\n      return () => {\n        if (animationRef.current) {\n          cancelAnimationFrame(animationRef.current)\n        }\n      }\n    }, [contentHeight, speed, direction, paused, pauseOnHover, isHovered])\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"relative overflow-hidden\", className)}\n        style={style}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        {...props}\n      >\n        {fade && (\n          <div\n            className=\"absolute left-0 right-0 top-0 z-10 pointer-events-none\"\n            style={{\n              height: fadeHeight,\n              background: `linear-gradient(to bottom, ${fadeColor}, transparent)`,\n            }}\n          />\n        )}\n\n        <div\n          ref={scrollerRef}\n          className=\"flex flex-col will-change-transform\"\n          style={{\n            gap,\n            transform: \"translate3d(0, 0, 0)\",\n          }}\n        >\n          {Array.from({ length: repeat }).map((_, i) => (\n            <div\n              key={i}\n              className=\"flex flex-col shrink-0\"\n              style={{ gap }}\n              aria-hidden={i > 0}\n            >\n              {children}\n            </div>\n          ))}\n        </div>\n\n        {fade && (\n          <div\n            className=\"absolute left-0 right-0 bottom-0 z-10 pointer-events-none\"\n            style={{\n              height: fadeHeight,\n              background: `linear-gradient(to top, ${fadeColor}, transparent)`,\n            }}\n          />\n        )}\n      </div>\n    )\n  }\n)\nVerticalMarquee.displayName = \"VerticalMarquee\"\n\nexport { Marquee, MarqueeItem, VerticalMarquee }\n"
    }
  ]
}